{% extends 'base.html' %}
{% block content %}
<style>
/* Simplified and Attractive Hospital Detail Page Styles with Light Colors */
.hospital-detail-page {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: #333;
  line-height: 1.6;
  background-color: #f8f9fa;
}

.page-header {
  background: linear-gradient(135deg, #e9ecef 0%, #f8f9fa 100%);
  color: #333;
  padding: 2rem 0;
  margin-bottom: 2rem;
  border-radius: 0 0 20px 20px;
  border-bottom: 1px solid #dee2e6;
}

.page-header h1 {
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #2c3e50;
}

.page-header .location {
  opacity: 0.9;
  font-size: 1.1rem;
  color: #495057;
}

.main-content {
  padding: 0 1rem;
}

.card-modern {
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
  margin-bottom: 2rem;
  border: none;
  background: white;
}

.card-modern:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
}

.card-modern .card-header {
  background: #f8f9fa;
  color: #2c3e50;
  border-radius: 15px 15px 0 0 !important;
  border: none;
  padding: 1.25rem;
  font-weight: 600;
  border-bottom: 1px solid #e9ecef;
}

.badge-modern {
  padding: 0.5rem 1rem;
  border-radius: 20px;
  font-weight: 600;
  font-size: 0.85rem;
}

.badge-accreditation {
  background: #e9ecef;
  color: #2c3e50;
}

.badge-choice {
  background: #e9ecef;
  color: #2c3e50;
}

.btn-modern {
  border-radius: 10px;
  font-weight: 600;
  padding: 0.75rem 1.5rem;
  transition: all 0.3s ease;
  border: none;
}

.btn-primary-modern {
  background: linear-gradient(135deg, #0d6efd, #0b5ed7);
  color: white;
  box-shadow: 0 4px 15px rgba(13, 110, 253, 0.3);
}

.btn-primary-modern:hover {
  background: linear-gradient(135deg, #0b5ed7, #0d6efd);
  transform: translateY(-3px);
  box-shadow: 0 7px 20px rgba(13, 110, 253, 0.4);
}

.btn-outline-modern {
  background: transparent;
  color: #495057;
  border: 2px solid #adb5bd;
}

.btn-outline-modern:hover {
  background: #e9ecef;
  transform: translateY(-3px);
  border-color: #6c757d;
}

.section-title-modern {
  font-size: 1.5rem;
  font-weight: 700;
  color: #2c3e50;
  margin-bottom: 1.5rem;
  position: relative;
  padding-bottom: 0.75rem;
}

.section-title-modern::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 60px;
  height: 3px;
  background: #0d6efd;
  border-radius: 3px;
}

.carousel-modern {
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  border: 1px solid #e9ecef;
}

.carousel-control-prev-icon,
.carousel-control-next-icon {
  background-color: rgba(255, 255, 255, 0.8);
  border-radius: 50%;
  padding: 15px;
  width: 3rem;
  height: 3rem;
  background-size: 60%;
}

.carousel-indicators [data-bs-target] {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.5);
  border: none;
}

.carousel-indicators .active {
  background-color: #0d6efd;
}

.treatment-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}

.treatment-item-modern {
  background: #f8f9fa;
  border-radius: 10px;
  padding: 1rem;
  text-align: center;
  transition: all 0.3s ease;
  border: 1px solid #e9ecef;
}

.treatment-item-modern:hover {
  background: #e9ecef;
  transform: translateY(-3px);
  border-color: #adb5bd;
}

.treatment-item-modern i {
  font-size: 1.5rem;
  color: #0d6efd;
  margin-bottom: 0.75rem;
}

.doctor-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
}

.doctor-card-modern {
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
  text-decoration: none;
  color: inherit;
  display: block;
}

.doctor-card-modern:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
}

.doctor-card-modern img {
  width: 100%;
  height: 200px;
  object-fit: cover;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 1rem;
  text-align: center;
}

.stat-card {
  padding: 1rem;
  background: #f8f9fa;
  border-radius: 10px;
  border: 1px solid #e9ecef;
}

.stat-card i {
  font-size: 1.5rem;
  color: #0d6efd;
  margin-bottom: 0.5rem;
}

.stat-card .number {
  font-size: 1.5rem;
  font-weight: 700;
  color: #2c3e50;
  margin-bottom: 0.25rem;
}

.review-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 1rem;
}

.review-card {
  background: #f8f9fa;
  border-radius: 10px;
  padding: 1rem;
  border: 1px solid #e9ecef;
}

.progress-modern {
  height: 8px;
  background: #e9ecef;
  border-radius: 4px;
  overflow: hidden;
}

.progress-bar-modern {
  height: 100%;
  background: #0d6efd;
  border-radius: 4px;
}

.back-btn {
  border-radius: 8px;
  font-weight: 600;
  transition: all 0.2s ease;
  background: #f8f9fa;
  border: 1px solid #e9ecef;
  color: #2c3e50;
  padding: 0.5rem 1rem;
}

.back-btn:hover {
  background: #e9ecef;
  transform: translateX(-3px);
}

.success-stories-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
}

.story-card {
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
  background: white;
  border: 1px solid #e9ecef;
}

.story-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
}

.story-video-container {
  position: relative;
  height: 200px;
  background: #f8f9fa;
  display: flex;
  align-items: center;
  justify-content: center;
}

.story-video-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.story-video-container .play-button {
  position: absolute;
  width: 60px;
  height: 60px;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
}

.story-video-container .play-button:hover {
  background: white;
  transform: scale(1.1);
}

.story-video-container .play-button i {
  color: #0d6efd;
  font-size: 1.5rem;
  margin-left: 3px;
}

.story-content {
  padding: 1rem;
}

.story-content .patient-name {
  font-weight: 600;
  color: #2c3e50;
  margin-bottom: 0.25rem;
}

.story-content .treatment {
  font-size: 0.9rem;
  color: #6c757d;
  margin-bottom: 0.5rem;
}

.story-content .rating {
  color: #f39c12;
  margin-bottom: 0.5rem;
}

.story-content .testimonial {
  font-size: 0.9rem;
  color: #495057;
  line-height: 1.5;
}

/* Informative Sections Styles */
.info-section {
  padding: 1rem;
  border-radius: 10px;
  background: #f8f9fa;
  border: 1px solid #e9ecef;
  transition: all 0.3s ease;
}

.info-section:hover {
  background: #e9ecef;
  transform: translateY(-2px);
}

.info-section h6 {
  color: #2c3e50;
}

.info-section p {
  color: #495057;
}

/* Responsive Design */
@media (max-width: 1200px) {
  .treatment-grid {
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  }
  
  .doctor-grid {
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  }
  
  .stats-grid {
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  }
  
  .review-grid {
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  }
}

@media (max-width: 992px) {
  .treatment-grid {
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  }
  
  .doctor-grid {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  }
  
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .review-grid {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  }
  
  .section-title-modern {
    font-size: 1.25rem;
  }
}

@media (max-width: 768px) {
  .treatment-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
  }
  
  .doctor-grid {
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  }
  
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
  }
  
  .review-grid {
    grid-template-columns: 1fr;
  }
  
  .page-header h1 {
    font-size: 1.75rem;
  }
  
  .page-header .location {
    font-size: 1rem;
  }
  
  .section-title-modern {
    font-size: 1.25rem;
  }
}

@media (max-width: 576px) {
  .treatment-grid {
    grid-template-columns: 1fr 1fr;
    gap: 0.5rem;
  }
  
  .doctor-grid {
    grid-template-columns: 1fr;
  }
  
  .stats-grid {
    grid-template-columns: 1fr;
    gap: 0.75rem;
  }
  
  .review-grid {
    grid-template-columns: 1fr;
  }
  
  .page-header h1 {
    font-size: 1.5rem;
  }
  
  .page-header .location {
    font-size: 1rem;
  }
}
</style>

<div class="hospital-detail-page">
  <div class="page-header">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h1>{{ hospital.name }}</h1>
          <div class="location">
            <i class="bi bi-geo-alt me-1"></i>{{ hospital.city|default:'â€”' }}{% if hospital.state %}, {{ hospital.state }}{% endif %}{% if hospital.country %}, {{ hospital.country }}{% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="container main-content">
    <div class="row">
      <div class="col-lg-8">
        <a href="/hospitals/" class="btn back-btn mb-3">
          <i class="bi bi-arrow-left me-1"></i>Back to Hospitals
        </a>
        
        <!-- Hospital Gallery -->
        <div class="card-modern">
          <div class="card-header">
            <h5 class="mb-0">Hospital Gallery</h5>
          </div>
          <div class="card-body">
            {% if hospital.media_items.all %}
            <div id="hospitalCarousel" class="carousel slide carousel-modern" data-bs-ride="carousel">
              <div class="carousel-indicators">
                {% for media in hospital.media_items.all %}
                <button type="button" data-bs-target="#hospitalCarousel" data-bs-slide-to="{{ forloop.counter0 }}" {% if forloop.first %}class="active"{% endif %} aria-current="true" aria-label="Slide {{ forloop.counter }}"></button>
                {% endfor %}
              </div>
              <div class="carousel-inner">
                {% for media in hospital.media_items.all %}
                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                  {% if media.image_url %}
                  <img src="{{ media.image_url }}" class="d-block w-100" alt="{{ hospital.name }} image" style="height: 400px; object-fit: cover;">
                  {% elif media.video_url %}
                  <div class="d-flex align-items-center justify-content-center" style="height: 400px; background: #f8f9fa;">
                    <div class="text-center">
                      <i class="bi bi-play-circle-fill text-primary" style="font-size: 4rem;"></i>
                      <p class="mt-3">Hospital Video Tour</p>
                      <a href="{{ media.video_url }}" class="btn btn-primary-modern" target="_blank">Watch Video</a>
                    </div>
                  </div>
                  {% endif %}
                </div>
                {% endfor %}
              </div>
              <button class="carousel-control-prev" type="button" data-bs-target="#hospitalCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#hospitalCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
              </button>
            </div>
            {% else %}
            <div class="text-center py-5">
              <i class="bi bi-image text-muted" style="font-size: 3rem;"></i>
              <p class="mt-3">No images available for this hospital</p>
            </div>
            {% endif %}
          </div>
        </div>
        
        <!-- Success Stories & Testimonials -->
        <div class="card-modern">
          <div class="card-header">
            <h5 class="mb-0">Success Stories & Patient Testimonials</h5>
          </div>
          <div class="card-body">
            <div class="success-stories-grid">
              <!-- Sample success story with video -->
              <div class="story-card">
                <div class="story-video-container">
                  <img src="https://picsum.photos/seed/story1/600/400" alt="Patient Success Story">
                  <div class="play-button">
                    <i class="bi bi-play-fill"></i>
                  </div>
                </div>
                <div class="story-content">
                  <div class="patient-name">Rajesh Kumar</div>
                  <div class="treatment">Cardiac Surgery</div>
                  <div class="rating">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    (5.0)
                  </div>
                  <p class="testimonial">The cardiac surgery at this hospital was life-changing. The expertise and care I received exceeded my expectations.</p>
                </div>
              </div>
              
              <!-- Sample success story with image -->
              <div class="story-card">
                <div class="story-video-container">
                  <img src="https://picsum.photos/seed/story2/600/400" alt="Patient Success Story">
                </div>
                <div class="story-content">
                  <div class="patient-name">Priya Sharma</div>
                  <div class="treatment">Orthopedic Surgery</div>
                  <div class="rating">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-half"></i>
                    (4.5)
                  </div>
                  <p class="testimonial">My joint replacement surgery was a success. I'm walking without pain after just a few weeks of recovery.</p>
                </div>
              </div>
              
              <!-- Sample success story with video -->
              <div class="story-card">
                <div class="story-video-container">
                  <img src="https://picsum.photos/seed/story3/600/400" alt="Patient Success Story">
                  <div class="play-button">
                    <i class="bi bi-play-fill"></i>
                  </div>
                </div>
                <div class="story-content">
                  <div class="patient-name">Amit Patel</div>
                  <div class="treatment">Neurosurgery</div>
                  <div class="rating">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    (5.0)
                  </div>
                  <p class="testimonial">The expertise and care I received for my neurosurgery exceeded my expectations. Highly recommended!</p>
                </div>
              </div>
            </div>
            
            <div class="text-center mt-4">
              <a href="#" class="btn btn-outline-modern">
                <i class="bi bi-collection-play me-2"></i>View All Success Stories
              </a>
            </div>
          </div>
        </div>
        
        <!-- About Hospital -->
        <div class="card-modern">
          <div class="card-header">
            <h5 class="mb-0">About {{ hospital.name }}</h5>
          </div>
          <div class="card-body">
            <p>{{ hospital.description|default:'This hospital is a leading healthcare institution with state-of-the-art facilities and a commitment to providing exceptional patient care. Our team of experienced professionals is dedicated to delivering the highest quality medical services.' }}</p>
            
            <div class="row mt-4">
              <div class="col-md-6">
                <h6 class="fw-semibold">Key Highlights</h6>
                <ul class="list-unstyled">
                  <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>Established: {{ hospital.established_year|default:'2005' }}</li>
                  <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>Bed Capacity: {{ hospital.bed_count|default:'200' }}+</li>
                  <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>Staff: {{ hospital.staff_count|default:'150' }}+ Professionals</li>
                  <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>Annual Patients: {{ hospital.annual_patients|default:'10000' }}+</li>
                </ul>
              </div>
              <div class="col-md-6">
                <h6 class="fw-semibold">Accreditations</h6>
                <div class="d-flex flex-wrap gap-2">
                  {% if hospital.jci_accredited %}
                  <span class="badge badge-modern badge-accreditation">JCI</span>
                  {% endif %}
                  {% if hospital.nabh_accredited %}
                  <span class="badge badge-modern badge-accreditation">NABH</span>
                  {% endif %}
                  {% if hospital.iso_certified %}
                  <span class="badge badge-modern badge-accreditation">ISO</span>
                  {% endif %}
                  {% if hospital.is_takeopinion_choice %}
                  <span class="badge badge-modern badge-choice">TakeOpinion Choice</span>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Treatments Offered -->
        <div class="card-modern">
          <div class="card-header">
            <h5 class="mb-0">Treatments Offered</h5>
          </div>
          <div class="card-body">
            {% if treatments_page_obj %}
            <div class="treatment-grid">
              {% for treatment in treatments_page_obj %}
              <a href="/treatments/{{ treatment.slug }}/" class="treatment-item-modern text-decoration-none">
                <i class="bi bi-bandaid"></i>
                <div class="fw-semibold">{{ treatment.name }}</div>
                <div class="small text-muted">Starting from â‚¹{{ treatment.starting_price|floatformat:0 }}</div>
              </a>
              {% endfor %}
            </div>
            
            <!-- Pagination for treatments -->
            {% if treatments_page_obj.has_other_pages %}
            <nav aria-label="Treatments pagination" class="mt-3">
              <ul class="pagination justify-content-center">
                {% if treatments_page_obj.has_previous %}
                  <li class="page-item">
                    <a class="page-link" href="?treatments_page={{ treatments_page_obj.previous_page_number }}#treatments-offered" aria-label="Previous">
                      <span aria-hidden="true">&laquo;</span>
                    </a>
                  </li>
                {% endif %}
                
                {% for num in treatments_page_obj.paginator.page_range %}
                  {% if treatments_page_obj.number == num %}
                    <li class="page-item active"><span class="page-link">{{ num }}</span></li>
                  {% elif num > treatments_page_obj.number|add:'-3' and num < treatments_page_obj.number|add:'3' %}
                    <li class="page-item"><a class="page-link" href="?treatments_page={{ num }}#treatments-offered">{{ num }}</a></li>
                  {% endif %}
                {% endfor %}
                
                {% if treatments_page_obj.has_next %}
                  <li class="page-item">
                    <a class="page-link" href="?treatments_page={{ treatments_page_obj.next_page_number }}#treatments-offered" aria-label="Next">
                      <span aria-hidden="true">&raquo;</span>
                    </a>
                  </li>
                {% endif %}
              </ul>
            </nav>
            {% endif %}
            
            <div class="text-center mt-3">
              <a href="/treatments/?hospital_id={{ hospital.id }}" class="btn btn-outline-modern">View All Treatments</a>
            </div>
            {% else %}
            <p class="mb-0">No treatments listed for this hospital yet.</p>
            {% endif %}
          </div>
        </div>
        
        <!-- Doctors -->
        <div class="card-modern">
          <div class="card-header">
            <h5 class="mb-0"><i class="bi bi-person-badge me-2"></i>Our Medical Experts</h5>
          </div>
          <div class="card-body">
            {% if doctors_page_obj %}
            <div class="doctor-grid">
              {% for doctor in doctors_page_obj %}
              <a href="/doctors/{{ doctor.slug }}/" class="doctor-card-modern text-decoration-none">
                <div class="position-relative">
                  {% if doctor.profile_picture %}
                  <img src="{{ doctor.profile_picture }}" class="w-100" alt="{{ doctor.name }}">
                  {% else %}
                  <div class="bg-light w-100 d-flex align-items-center justify-content-center" style="height: 200px;">
                    <i class="bi bi-person-badge text-muted" style="font-size: 3rem;"></i>
                  </div>
                  {% endif %}
                  <div class="position-absolute bottom-0 start-0 w-100 p-2" style="background: rgba(0, 0, 0, 0.7);">
                    <div class="text-white small fw-semibold">{{ doctor.name }}</div>
                    <div class="text-white small">{{ doctor.specialization|truncatewords:3 }}</div>
                  </div>
                  <div class="position-absolute top-0 end-0 m-2">
                    <div class="text-warning">
                      {% for i in "12345" %}
                        {% if forloop.counter <= doctor.rating|floatformat:0 %}
                          <i class="bi bi-star-fill"></i>
                        {% else %}
                          <i class="bi bi-star"></i>
                        {% endif %}
                      {% endfor %}
                    </div>
                  </div>
                </div>
                <div class="p-3">
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="small text-muted">
                      <i class="bi bi-briefcase me-1"></i>{{ doctor.experience_years }} yrs
                    </div>
                    <div class="small text-muted">
                      <i class="bi bi-people me-1"></i>{{ doctor.patients_treated|default:'1000' }}+
                    </div>
                  </div>
                </div>
              </a>
              {% endfor %}
            </div>
            
            <!-- Pagination for doctors -->
            {% if doctors_page_obj.has_other_pages %}
            <nav aria-label="Doctors pagination" class="mt-3">
              <ul class="pagination justify-content-center">
                {% if doctors_page_obj.has_previous %}
                  <li class="page-item">
                    <a class="page-link" href="?doctors_page={{ doctors_page_obj.previous_page_number }}#our-medical-experts" aria-label="Previous">
                      <span aria-hidden="true">&laquo;</span>
                    </a>
                  </li>
                {% endif %}
                
                {% for num in doctors_page_obj.paginator.page_range %}
                  {% if doctors_page_obj.number == num %}
                    <li class="page-item active"><span class="page-link">{{ num }}</span></li>
                  {% elif num > doctors_page_obj.number|add:'-3' and num < doctors_page_obj.number|add:'3' %}
                    <li class="page-item"><a class="page-link" href="?doctors_page={{ num }}#our-medical-experts">{{ num }}</a></li>
                  {% endif %}
                {% endfor %}
                
                {% if doctors_page_obj.has_next %}
                  <li class="page-item">
                    <a class="page-link" href="?doctors_page={{ doctors_page_obj.next_page_number }}#our-medical-experts" aria-label="Next">
                      <span aria-hidden="true">&raquo;</span>
                    </a>
                  </li>
                {% endif %}
              </ul>
            </nav>
            {% endif %}
            
            <div class="text-center mt-3">
              <a href="/doctors/?hospital={{ hospital.id }}" class="btn btn-outline-modern">
                <i class="bi bi-person-badge me-2"></i>View All {{ doctors_page_obj.paginator.count }} Doctors
              </a>
            </div>
            {% else %}
            <div class="text-center py-4">
              <i class="bi bi-person-x text-muted" style="font-size: 3rem;"></i>
              <h5 class="mt-3 text-muted">No Doctors Listed</h5>
              <p class="text-muted">No doctors are currently affiliated with this hospital.</p>
            </div>
            {% endif %}
          </div>
        </div>
        
        <!-- Hospital Stats -->
        <div class="card-modern">
          <div class="card-header">
            <h5 class="mb-0">Hospital Statistics</h5>
          </div>
          <div class="card-body">
            <div class="stats-grid">
              <div class="stat-card">
                <i class="bi bi-people"></i>
                <div class="number">{{ hospital.annual_patients|default:'10000' }}+</div>
                <div class="text-muted">Patients Treated</div>
              </div>
              <div class="stat-card">
                <i class="bi bi-star-fill"></i>
                <div class="number">{{ hospital.success_rate|floatformat:1|default:'95.5' }}%</div>
                <div class="text-muted">Success Rate</div>
              </div>
              <div class="stat-card">
                <i class="bi bi-calendar-check"></i>
                <div class="number">{{ hospital.years_of_excellence|default:'15' }}+</div>
                <div class="text-muted">Years of Excellence</div>
              </div>
              <div class="stat-card">
                <i class="bi bi-award"></i>
                <div class="number">{{ hospital.awards_count|default:'25' }}+</div>
                <div class="text-muted">Awards Won</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-lg-4">
        <!-- Quick Actions -->
        <div class="card-modern mb-4">
          <div class="card-header">
            <h5 class="mb-0">Quick Actions</h5>
          </div>
          <div class="card-body">
            <div class="d-grid gap-2">
              <a href="/book/?hospital={{ hospital.id }}" class="btn btn-primary-modern">
                <i class="bi bi-calendar-check me-2"></i>Consultant Takes Opinion Expert
              </a>
            </div>
            
            <!-- Informative Sections -->
            <div class="mt-4">
              <div class="info-section mb-3">
                <h6 class="fw-semibold mb-2"><i class="bi bi-lightning-fill text-primary me-2"></i>Why Choose This Hospital?</h6>
                <p class="small mb-0">This hospital is recognized for its excellence in patient care, advanced medical technology, and highly qualified medical professionals.</p>
              </div>
              
              <div class="info-section mb-3">
                <h6 class="fw-semibold mb-2"><i class="bi bi-shield-check text-success me-2"></i>Quality Assurance</h6>
                <p class="small mb-0">All our partner hospitals are thoroughly vetted for quality standards, accreditations, and patient satisfaction ratings.</p>
              </div>
              
              <div class="info-section">
                <h6 class="fw-semibold mb-2"><i class="bi bi-headset text-info me-2"></i>24/7 Support</h6>
                <p class="small mb-0">Our dedicated support team is available round the clock to assist you with any queries or concerns.</p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Hospital Info -->
        <div class="card-modern mb-4">
          <div class="card-header">
            <h5 class="mb-0">Hospital Information</h5>
          </div>
          <div class="card-body">
            <div class="d-flex align-items-center mb-3">
              <div class="text-warning me-2">
                {% for i in "12345" %}
                  {% if forloop.counter <= hospital.rating|floatformat:0 %}
                    <i class="bi bi-star-fill"></i>
                  {% else %}
                    <i class="bi bi-star"></i>
                  {% endif %}
                {% endfor %}
              </div>
              <span class="fw-semibold">{{ hospital.rating|floatformat:1 }}/5.0</span>
            </div>
            
            <div class="mb-3">
              <h6 class="fw-semibold mb-2">Address</h6>
              <p class="mb-0">{{ hospital.address|default:'123 Medical Avenue' }}</p>
              <p class="mb-0">{{ hospital.city|default:'City' }}{% if hospital.state %}, {{ hospital.state }}{% endif %}{% if hospital.country %}, {{ hospital.country }}{% endif %} {{ hospital.zip_code|default:'123456' }}</p>
            </div>
            
            <div class="mb-3">
              <h6 class="fw-semibold mb-2">Contact</h6>
              <p class="mb-1"><i class="bi bi-telephone me-2"></i>{{ hospital.phone|default:'+91 9876543210' }}</p>
              <p class="mb-1"><i class="bi bi-envelope me-2"></i>{{ hospital.email|default:'info@hospital.com' }}</p>
              <p class="mb-0"><i class="bi bi-globe me-2"></i>{{ hospital.website|default:'www.hospital.com' }}</p>
            </div>
            
            <div class="mb-3">
              <h6 class="fw-semibold mb-2">Working Hours</h6>
              <p class="mb-0">Monday - Saturday: 8:00 AM - 8:00 PM</p>
              <p class="mb-0">Sunday: 10:00 AM - 4:00 PM</p>
            </div>
          </div>
        </div>
        
        <!-- Patient Reviews Summary -->
        <div class="card-modern">
          <div class="card-header">
            <h5 class="mb-0">Patient Reviews</h5>
          </div>
          <div class="card-body">
            <div class="text-center mb-3">
              <div class="display-5 fw-bold text-primary">{{ hospital.rating|floatformat:1 }}</div>
              <div class="text-warning mb-2">
                {% for i in "12345" %}
                  {% if forloop.counter <= hospital.rating|floatformat:0 %}
                    <i class="bi bi-star-fill"></i>
                  {% else %}
                    <i class="bi bi-star"></i>
                  {% endif %}
                {% endfor %}
              </div>
              <div class="small">Based on {{ hospital.review_count|default:'150' }} reviews</div>
            </div>
            
            <div class="mb-3">
              <div class="d-flex justify-content-between small mb-1">
                <span>Medical Care</span>
                <span>{{ hospital.medical_care_rating|floatformat:1|default:'4.8' }}</span>
              </div>
              <div class="progress-modern">
                <div class="progress-bar-modern" role="progressbar" style="width: {{ hospital.medical_care_rating|floatformat:0|default:'90' }}%"></div>
              </div>
            </div>
            
            <div class="mb-3">
              <div class="d-flex justify-content-between small mb-1">
                <span>Facilities</span>
                <span>{{ hospital.facilities_rating|floatformat:1|default:'4.6' }}</span>
              </div>
              <div class="progress-modern">
                <div class="progress-bar-modern" role="progressbar" style="width: {{ hospital.facilities_rating|floatformat:0|default:'85' }}%"></div>
              </div>
            </div>
            
            <div class="mb-3">
              <div class="d-flex justify-content-between small mb-1">
                <span>Staff</span>
                <span>{{ hospital.staff_rating|floatformat:1|default:'4.7' }}</span>
              </div>
              <div class="progress-modern">
                <div class="progress-bar-modern" role="progressbar" style="width: {{ hospital.staff_rating|floatformat:0|default:'88' }}%"></div>
              </div>
            </div>
            
            <!-- Recent Reviews -->
            <div class="mt-4">
              <h6 class="mb-3">Recent Patient Reviews</h6>
              
              {% if feedbacks_page_obj %}
              <div class="review-grid">
                {% for feedback in feedbacks_page_obj %}
                <div class="review-card">
                  <div class="d-flex justify-content-between mb-2">
                    <div class="d-flex align-items-center">
                      <div class="bg-light rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 30px; height: 30px;">
                        <i class="bi bi-person text-muted small"></i>
                      </div>
                      <div>
                        <div class="fw-semibold small">
                          {% if feedback.is_anonymous %}
                            Anonymous Patient
                          {% else %}
                            {{ feedback.patient.user.first_name }} {{ feedback.patient.user.last_name }}
                          {% endif %}
                        </div>
                        <div class="text-muted small">{{ feedback.title }}</div>
                      </div>
                    </div>
                    <div class="text-warning">
                      {% for i in "12345" %}
                        {% if forloop.counter <= feedback.rating %}
                          <i class="bi bi-star-fill"></i>
                        {% else %}
                          <i class="bi bi-star"></i>
                        {% endif %}
                      {% endfor %}
                    </div>
                  </div>
                  <p class="mb-1 small">{{ feedback.comment }}</p>
                  <small class="text-muted">{{ feedback.created_at|date:"M d, Y" }}</small>
                </div>
                {% endfor %}
              </div>
              
              <!-- Pagination for feedbacks -->
              {% if feedbacks_page_obj.has_other_pages %}
              <nav aria-label="Reviews pagination" class="mt-3">
                <ul class="pagination justify-content-center">
                  {% if feedbacks_page_obj.has_previous %}
                    <li class="page-item">
                      <a class="page-link" href="?feedbacks_page={{ feedbacks_page_obj.previous_page_number }}#patient-reviews" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                      </a>
                    </li>
                  {% endif %}
                  
                  {% for num in feedbacks_page_obj.paginator.page_range %}
                    {% if feedbacks_page_obj.number == num %}
                      <li class="page-item active"><span class="page-link">{{ num }}</span></li>
                    {% elif num > feedbacks_page_obj.number|add:'-3' and num < feedbacks_page_obj.number|add:'3' %}
                      <li class="page-item"><a class="page-link" href="?feedbacks_page={{ num }}#patient-reviews">{{ num }}</a></li>
                    {% endif %}
                  {% endfor %}
                  
                  {% if feedbacks_page_obj.has_next %}
                    <li class="page-item">
                      <a class="page-link" href="?feedbacks_page={{ feedbacks_page_obj.next_page_number }}#patient-reviews" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                      </a>
                    </li>
                  {% endif %}
                </ul>
              </nav>
              {% endif %}
              
              {% else %}
              <p class="text-muted">No reviews yet. Be the first to share your experience!</p>
              {% endif %}
            </div>
            
            <div class="text-center mt-3">
              <a href="{% url 'accounts:reviews_page' %}?hospital={{ hospital.id }}" class="btn btn-outline-modern">View All Reviews</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Inquiry Modal -->
<div class="modal fade" id="inquiryModal" tabindex="-1" aria-labelledby="inquiryModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="inquiryModalLabel">Ask a Question</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label class="form-label">Your Name</label>
            <input type="text" class="form-control" placeholder="Enter your name">
          </div>
          <div class="mb-3">
            <label class="form-label">Email Address</label>
            <input type="email" class="form-control" placeholder="Enter your email">
          </div>
          <div class="mb-3">
            <label class="form-label">Phone Number</label>
            <input type="tel" class="form-control" placeholder="Enter your phone number">
          </div>
          <div class="mb-3">
            <label class="form-label">Your Question</label>
            <textarea class="form-control" rows="4" placeholder="Ask your question about this hospital..."></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary-modern">Send Question</button>
      </div>
    </div>
  </div>
</div>

<script>
  // Add click event for play buttons
  document.addEventListener('DOMContentLoaded', function() {
    const playButtons = document.querySelectorAll('.play-button');
    playButtons.forEach(function(button) {
      button.addEventListener('click', function() {
        alert('In a real implementation, this would open a video player modal');
      });
    });
  });
</script>

{% endblock %}